(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{62:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){},66:function(e,t,c){},67:function(e,t,c){},68:function(e,t,c){},70:function(e,t,c){},71:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(6),o=c.n(r),i=c(10),s=c(4),u=c(9),l=c.n(u);l.a.defaults.baseURL="https://pixabay.com/api/";var j=c(19),b=c.n(j),d=(c(62),c(1)),h=function(e){var t=e.children;return Object(d.jsx)("div",{className:"App",children:t})};c(64);var m=function(e){var t=e.onSubmit,c=Object(n.useState)(""),a=Object(s.a)(c,2),r=a[0],o=a[1];return Object(d.jsx)("header",{className:"Searchbar",children:Object(d.jsx)("form",{className:"SearchForm",value:r,onSubmit:function(e){e.preventDefault(),o(e.target.value),t(r)},children:Object(d.jsxs)("label",{children:[Object(d.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(d.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(d.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){o(e.target.value)}})]})})})},f=(c(65),function(e){var t=e.hits,c=e.imageClick;return t.map((function(e){return Object(d.jsx)("li",{className:"ImageGalleryItem",children:Object(d.jsx)("img",{onClick:c,src:e.webformatURL,alt:e.tags,"data-source":e.largeImageURL,className:"ImageGalleryItem-image"})},e.id)}))}),O=(c(66),function(e){var t=e.hits,c=e.imageClick;return Object(d.jsx)("ul",{className:"ImageGallery",children:Object(d.jsx)(f,{hits:t,imageClick:c})})});c(67);var g=function(e){var t=e.onClick;return Object(d.jsx)("button",{type:"button",className:"Button",onClick:t,children:"Load more"})},p=(c(68),document.querySelector("#modal-root")),v=function(e){var t=e.children,c=e.toggleModal,a=function(e){"Escape"===e.code&&c()};Object(n.useEffect)((function(){window.addEventListener("keydown",a)}),[]),Object(n.useEffect)((function(){return function(){return window.removeEventListener("keydown",a)}}));return Object(r.createPortal)(Object(d.jsx)("div",{className:"Overlay",onClick:function(e){e.target===e.currentTarget&&c()},children:Object(d.jsx)("div",{className:"Modal",children:t})}),p)};var x=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(""),o=Object(s.a)(r,2),u=o[0],j=o[1],f=Object(n.useState)(1),p=Object(s.a)(f,2),x=p[0],S=p[1],y=Object(n.useState)(!1),k=Object(s.a)(y,2),w=k[0],N=k[1],C=Object(n.useState)(null),E=Object(s.a)(C,2),F=E[0],I=E[1],L=Object(n.useState)([]),R=Object(s.a)(L,2),M=R[0],B=R[1],G=Object(n.useState)(!1),T=Object(s.a)(G,2),U=T[0],q=T[1];Object(n.useEffect)((function(){u&&J()}),[u]);var J=function(){var e={searchQuery:u,page:x};N(!0),function(e){var t=e.searchQuery,c=void 0===t?"":t,n=e.page,a=void 0===n?1:n,r=e.perPage,o=void 0===r?12:r;return l.a.get("?q=".concat(c,"&page=").concat(a,"&key=").concat("20350102-ed832d5aeaea3e1e1304ff4e5","&image_type=photo&orientation=horizontal&per_page=").concat(o)).then((function(e){return e.data}))}(e).then((function(e){var t=e.hits;a([].concat(Object(i.a)(c),Object(i.a)(t))),S(x+1),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){return I(e)})).finally((function(){return N(!1)}))},P=function(){q(!U)};return Object(d.jsxs)(h,{children:[U&&Object(d.jsx)(v,{toggleModal:P,children:Object(d.jsx)("img",{src:M,alt:""})}),F&&Object(d.jsx)("h1",{children:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435"}),Object(d.jsx)(m,{onSubmit:function(e){j(e),a([]),S(1),I(null)}}),Object(d.jsx)(O,{hits:c,imageClick:function(e){B(e.currentTarget.dataset.source),P()}}),w&&Object(d.jsx)(b.a,{type:"Rings",color:"#00BFFF",height:120,width:120,style:{marginRight:"auto",marginLeft:"auto"}}),c.length>0&&!w&&Object(d.jsx)(g,{onClick:J})]})};c(69),c(70);o.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(x,{})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.bc467622.chunk.js.map